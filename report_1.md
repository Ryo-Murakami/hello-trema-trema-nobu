# 第1回演習レポート(2016/10/5)
33E16017 信家悠司

## スイッチの切断イベント

### 課題内容
仮想スイッチを停止したときにコントローラで"Bye 0xabc"と表示する。

### 回答

    def switch_disconnected(datapath_id)
      logger.info "Bye #{datapath_id.to_hex}"
    end

### 説明
Switch_disconnected ハンドラは、上記のように定義されているので、利用した。これにより任意のスイッチが切断された時にdefからendまでの間のプログラムを実行することができる。引数はその切断されたスイッチのIDである。

.to_hexにより、スイッチのIDを16進数に変換し、logger.infoで出力した。文字列の中に変数を埋め込む方法は、シェルスクリプトのように#で開始したブロックの中に変数を記述する。

## クラス名を出力する
### 課題内容
HelloTremaというTremaコントローラを起動するが、起動したあとに"HelloTrema started."と表示する。

### 回答

    def start(_args)
      logger.info "#{self.class.to_s} started."
    end

### 説明
self で、自分自身の関数名を参照する。自分自身に対して.classとすることでクラスを取得する。.classで取得される戻り値はオブジェクト型であるので、最後に.to_sで文字列に変形することでクラス名を取得することができる。
本課題ではその結果を組み合わせた文字列を出力することで、クラスが開始したことを示すものとなっている。

なお、この方法をとることにより、任意のクラスで利用できるような関数を作成することができるため、他クラス、他プログラムへの流用が可能である。


